{"body":"#nbd\r\n\r\n'[nbd](https://github.com/NicolasT/nbd)' is a [Haskell](http://www.haskell.org) library to implement [NBD](http://en.wikipedia.org/wiki/Network_block_device) (Network Block Device) servers.\r\nThis can be used to implement block-devices in userspace using the Haskell_\r\nprogramming language, using the [Conduit](http://hackage.haskell.org/package/conduit) library.\r\n\r\n## Demo\r\n\r\nA very simple demonstration server is included in this repository, see\r\n*bin/server.hs*. The server can export multiple files (all as a different\r\ndevice), and currently only supports read-only access.\r\n\r\nTo test, build the library and binary using [cabal](http://www.haskell.org/cabal/), then run something like:\r\n\r\n    $ dd if=/dev/urandom of=blocks bs=1024 count=65536\r\n    $ md5sum blocks \r\n    7604d00d72b9b8f8cb10e709a1ac3075  blocks\r\n    $ ./dist/build/nbd-demo-server/nbd-demo-server blocks\r\n\r\nNow in another shell, as root:\r\n\r\n    # modprobe nbd\r\n    # # Connect to the server, creating /dev/nbd0\r\n    # nbd-client localhost /dev/nbd0 -N blocks\r\n    Negotiation: ..size = 64MB\r\n    bs=1024, sz=67108864 bytes\r\n    # # Read the data and validate the hash\r\n    # dd if=/dev/nbd0 bs=4096 | md5sum\r\n    16384+0 records in\r\n    16384+0 records out\r\n    67108864 bytes (67 MB) copied, 0.265507 s, 253 MB/s\r\n    7604d00d72b9b8f8cb10e709a1ac3075  -\r\n    # # Disconnect /dev/nbd0\r\n    # nbd-client -d /dev/nbd0\r\n    Disconnecting: que, disconnect, sock, done","note":"Don't delete this file! It's used internally to help with page regeneration.","tagline":"A Haskell library to implement Network Block Device servers","name":"Nbd","google":""}