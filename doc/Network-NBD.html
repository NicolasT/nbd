<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Network.NBD</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Network-NBD.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">nbd-0.1.0.0: A Haskell library to implement NBD (Network Block Device) servers</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr></table><p class="caption">Network.NBD</p></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><a href="#v:nBD_DEFAULT_PORT">nBD_DEFAULT_PORT</a> :: <a href="/home/nicolas/Projects/ghc/share/doc/ghc/html/libraries/base-4.6.0.0/Data-Int.html#t:Int">Int</a></li><li class="src short"><span class="keyword">data</span>  <a href="#t:NbdExportFlag">NbdExportFlag</a> <ul class="subs"><li>= <a href="#v:HasFlags">HasFlags</a>  </li><li>| <a href="#v:ReadOnly">ReadOnly</a>  </li><li>| <a href="#v:SendFlush">SendFlush</a>  </li><li>| <a href="#v:SendFua">SendFua</a>  </li><li>| <a href="#v:Rotational">Rotational</a>  </li><li>| <a href="#v:SendTrim">SendTrim</a>  </li></ul></li><li class="src short"><span class="keyword">data</span>  <a href="#t:NbdCommandFlag">NbdCommandFlag</a>  = <a href="#v:ForceUnitAccess">ForceUnitAccess</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:ExportName">ExportName</a> = <a href="/home/nicolas/Projects/nbd/hs/cabal-dev//share/doc/text-0.11.2.3/html/Data-Text-Internal.html#t:Text">Text</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:ByteCount">ByteCount</a> = <a href="/home/nicolas/Projects/ghc/share/doc/ghc/html/libraries/base-4.6.0.0/Foreign-C-Types.html#t:CSize">CSize</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:FileOffset">FileOffset</a> = <a href="/home/nicolas/Projects/ghc/share/doc/ghc/html/libraries/base-4.6.0.0/System-Posix-Types.html#t:COff">COff</a></li><li class="src short"><span class="keyword">data</span>  <a href="#t:ProtocolException">ProtocolException</a> <ul class="subs"><li>= <a href="#v:InvalidClientFlags">InvalidClientFlags</a> !<a href="/home/nicolas/Projects/ghc/share/doc/ghc/html/libraries/base-4.6.0.0/Data-Word.html#t:Word32">Word32</a>  </li><li>| <a href="#v:InvalidMagic">InvalidMagic</a> <a href="/home/nicolas/Projects/ghc/share/doc/ghc/html/libraries/base-4.6.0.0/Data-String.html#t:String">String</a> !<a href="/home/nicolas/Projects/ghc/share/doc/ghc/html/libraries/base-4.6.0.0/Data-Word.html#t:Word64">Word64</a>  </li><li>| <a href="#v:ParseFailure">ParseFailure</a> <a href="/home/nicolas/Projects/ghc/share/doc/ghc/html/libraries/base-4.6.0.0/Data-String.html#t:String">String</a>  </li><li>| <a href="#v:ClientAbort">ClientAbort</a>  </li><li>| <a href="#v:InvalidProtocolHeader">InvalidProtocolHeader</a> <a href="/home/nicolas/Projects/ghc/share/doc/ghc/html/libraries/bytestring-0.10.0.0/Data-ByteString.html#t:ByteString">ByteString</a>  </li><li>| <a href="#v:InvalidServerFlags">InvalidServerFlags</a> !<a href="/home/nicolas/Projects/ghc/share/doc/ghc/html/libraries/base-4.6.0.0/Data-Word.html#t:Word16">Word16</a>  </li><li>| <a href="#v:OptionError">OptionError</a> !<a href="/home/nicolas/Projects/ghc/share/doc/ghc/html/libraries/base-4.6.0.0/Data-Word.html#t:Word32">Word32</a>  </li><li>| <a href="#v:UnexpectedServerReply">UnexpectedServerReply</a> <a href="/home/nicolas/Projects/ghc/share/doc/ghc/html/libraries/base-4.6.0.0/Data-String.html#t:String">String</a>  </li></ul></li><li class="src short"><span class="keyword">data</span>  <a href="#t:Handle">Handle</a> </li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a name="v:nBD_DEFAULT_PORT" class="def">nBD_DEFAULT_PORT</a> :: <a href="/home/nicolas/Projects/ghc/share/doc/ghc/html/libraries/base-4.6.0.0/Data-Int.html#t:Int">Int</a></p><div class="doc"><p>The default (IANA-assigned) port for NBD
</p></div></div><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:NbdExportFlag" class="def">NbdExportFlag</a>  </p><div class="doc"><p>Flags of a single export
</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:HasFlags" class="def">HasFlags</a></td><td class="doc"><p>Should always be set
</p></td></tr><tr><td class="src"><a name="v:ReadOnly" class="def">ReadOnly</a></td><td class="doc"><p>The export is read-only
</p></td></tr><tr><td class="src"><a name="v:SendFlush" class="def">SendFlush</a></td><td class="doc"><p>The server supports NBD_CMD_FLUSH commands
</p></td></tr><tr><td class="src"><a name="v:SendFua" class="def">SendFua</a></td><td class="doc"><p>The server supports the NBD_CMD_FLAG_FUA flag
</p></td></tr><tr><td class="src"><a name="v:Rotational" class="def">Rotational</a></td><td class="doc"><p>The client should schedule I/O accesses as for a rotational medium
</p></td></tr><tr><td class="src"><a name="v:SendTrim" class="def">SendTrim</a></td><td class="doc"><p>The server supports NBD_CMD_TRIM commands
</p></td></tr></table></div><div class="subs instances"><p id="control.i:NbdExportFlag" class="caption collapser" onclick="toggleSection('i:NbdExportFlag')">Instances</p><div id="section.i:NbdExportFlag" class="show"><table><tr><td class="src"><a href="/home/nicolas/Projects/ghc/share/doc/ghc/html/libraries/base-4.6.0.0/Prelude.html#t:Enum">Enum</a> <a href="Network-NBD.html#t:NbdExportFlag">NbdExportFlag</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/home/nicolas/Projects/ghc/share/doc/ghc/html/libraries/base-4.6.0.0/Data-Eq.html#t:Eq">Eq</a> <a href="Network-NBD.html#t:NbdExportFlag">NbdExportFlag</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/home/nicolas/Projects/ghc/share/doc/ghc/html/libraries/base-4.6.0.0/Text-Show.html#t:Show">Show</a> <a href="Network-NBD.html#t:NbdExportFlag">NbdExportFlag</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:NbdCommandFlag" class="def">NbdCommandFlag</a>  </p><div class="doc"><p>Flags set on NBD commands
</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:ForceUnitAccess" class="def">ForceUnitAccess</a></td><td class="doc"><p>Force Unit Access on NBD_CMD_WRITE
</p></td></tr></table></div><div class="subs instances"><p id="control.i:NbdCommandFlag" class="caption collapser" onclick="toggleSection('i:NbdCommandFlag')">Instances</p><div id="section.i:NbdCommandFlag" class="show"><table><tr><td class="src"><a href="/home/nicolas/Projects/ghc/share/doc/ghc/html/libraries/base-4.6.0.0/Prelude.html#t:Enum">Enum</a> <a href="Network-NBD.html#t:NbdCommandFlag">NbdCommandFlag</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/home/nicolas/Projects/ghc/share/doc/ghc/html/libraries/base-4.6.0.0/Data-Eq.html#t:Eq">Eq</a> <a href="Network-NBD.html#t:NbdCommandFlag">NbdCommandFlag</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/home/nicolas/Projects/ghc/share/doc/ghc/html/libraries/base-4.6.0.0/Text-Show.html#t:Show">Show</a> <a href="Network-NBD.html#t:NbdCommandFlag">NbdCommandFlag</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:ExportName" class="def">ExportName</a> = <a href="/home/nicolas/Projects/nbd/hs/cabal-dev//share/doc/text-0.11.2.3/html/Data-Text-Internal.html#t:Text">Text</a></p><div class="doc"><p>A type synonym for export names
 In line with the protocol spec, this will be UTF-8 encoded
</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:ByteCount" class="def">ByteCount</a> = <a href="/home/nicolas/Projects/ghc/share/doc/ghc/html/libraries/base-4.6.0.0/Foreign-C-Types.html#t:CSize">CSize</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:FileOffset" class="def">FileOffset</a> = <a href="/home/nicolas/Projects/ghc/share/doc/ghc/html/libraries/base-4.6.0.0/System-Posix-Types.html#t:COff">COff</a></p></div><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:ProtocolException" class="def">ProtocolException</a>  </p><div class="doc"><p>The <code><a href="Network-NBD.html#t:ProtocolException">ProtocolException</a></code> type lists a couple of values which can be
 raised at runtime
</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:InvalidClientFlags" class="def">InvalidClientFlags</a> !<a href="/home/nicolas/Projects/ghc/share/doc/ghc/html/libraries/base-4.6.0.0/Data-Word.html#t:Word32">Word32</a></td><td class="doc"><p>Client sent invalid flags during negotiation
</p></td></tr><tr><td class="src"><a name="v:InvalidMagic" class="def">InvalidMagic</a> <a href="/home/nicolas/Projects/ghc/share/doc/ghc/html/libraries/base-4.6.0.0/Data-String.html#t:String">String</a> !<a href="/home/nicolas/Projects/ghc/share/doc/ghc/html/libraries/base-4.6.0.0/Data-Word.html#t:Word64">Word64</a></td><td class="doc"><p>An invalid magic value was received 
</p></td></tr><tr><td class="src"><a name="v:ParseFailure" class="def">ParseFailure</a> <a href="/home/nicolas/Projects/ghc/share/doc/ghc/html/libraries/base-4.6.0.0/Data-String.html#t:String">String</a></td><td class="doc"><p>Parsing of some field failed
</p></td></tr><tr><td class="src"><a name="v:ClientAbort" class="def">ClientAbort</a></td><td class="doc"><p>The client sent an NBD_OPT_ABORT option
</p></td></tr><tr><td class="src"><a name="v:InvalidProtocolHeader" class="def">InvalidProtocolHeader</a> <a href="/home/nicolas/Projects/ghc/share/doc/ghc/html/libraries/bytestring-0.10.0.0/Data-ByteString.html#t:ByteString">ByteString</a></td><td class="doc"><p>Server sent some invalid/unknown protocol header
</p></td></tr><tr><td class="src"><a name="v:InvalidServerFlags" class="def">InvalidServerFlags</a> !<a href="/home/nicolas/Projects/ghc/share/doc/ghc/html/libraries/base-4.6.0.0/Data-Word.html#t:Word16">Word16</a></td><td class="doc"><p>Server sent invalid flags during negotiation
 TODO Not very happy with this one, shouldn't pass
 a Word32 as-is but decode to NbdReply
</p></td></tr><tr><td class="src"><a name="v:OptionError" class="def">OptionError</a> !<a href="/home/nicolas/Projects/ghc/share/doc/ghc/html/libraries/base-4.6.0.0/Data-Word.html#t:Word32">Word32</a></td><td class="doc"><p>Server returned an error reply to an option command
</p></td></tr><tr><td class="src"><a name="v:UnexpectedServerReply" class="def">UnexpectedServerReply</a> <a href="/home/nicolas/Projects/ghc/share/doc/ghc/html/libraries/base-4.6.0.0/Data-String.html#t:String">String</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:ProtocolException" class="caption collapser" onclick="toggleSection('i:ProtocolException')">Instances</p><div id="section.i:ProtocolException" class="show"><table><tr><td class="src"><a href="/home/nicolas/Projects/ghc/share/doc/ghc/html/libraries/base-4.6.0.0/Text-Show.html#t:Show">Show</a> <a href="Network-NBD.html#t:ProtocolException">ProtocolException</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/home/nicolas/Projects/ghc/share/doc/ghc/html/libraries/base-4.6.0.0/Data-Typeable-Internal.html#t:Typeable">Typeable</a> <a href="Network-NBD.html#t:ProtocolException">ProtocolException</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/home/nicolas/Projects/ghc/share/doc/ghc/html/libraries/base-4.6.0.0/Control-Exception-Base.html#t:Exception">Exception</a> <a href="Network-NBD.html#t:ProtocolException">ProtocolException</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:Handle" class="def">Handle</a>  </p><div class="doc"><p>Opaque type representing a command handle sent by a client
</p></div><div class="subs instances"><p id="control.i:Handle" class="caption collapser" onclick="toggleSection('i:Handle')">Instances</p><div id="section.i:Handle" class="show"><table><tr><td class="src"><a href="/home/nicolas/Projects/ghc/share/doc/ghc/html/libraries/base-4.6.0.0/Data-Eq.html#t:Eq">Eq</a> <a href="Network-NBD.html#t:Handle">Handle</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/home/nicolas/Projects/ghc/share/doc/ghc/html/libraries/base-4.6.0.0/Data-Ord.html#t:Ord">Ord</a> <a href="Network-NBD.html#t:Handle">Handle</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/home/nicolas/Projects/ghc/share/doc/ghc/html/libraries/base-4.6.0.0/Text-Show.html#t:Show">Show</a> <a href="Network-NBD.html#t:Handle">Handle</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/home/nicolas/Projects/nbd/hs/cabal-dev//share/doc/cereal-0.3.5.2/html/Data-Serialize.html#t:Serialize">Serialize</a> <a href="Network-NBD.html#t:Handle">Handle</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.12.0</p></div></body></html>